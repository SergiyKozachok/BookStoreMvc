@model TransferLayer.Models.BookDto

@{
    ViewBag.Title = "AddOrEdit";
}
<style type="text/css">.button { }

 .form-body { }
</style>

<h2>AddOrEdit</h2>

<div class="form-body">
    @using (Html.BeginForm("AddOrEdit", "Books", FormMethod.Post, new {enctype = "multipart/form-data"}))
    {
        @Html.HiddenFor(model => model.Id)

        <div class="form-group">
            <span>Назва книги</span>
            @Html.EditorFor(model => model.Title)
            @Html.ValidationMessageFor(model => model.Title)
        </div>

        <div class="form-group">
            @*@Html.LabelFor(model => model.Image, htmlAttributes: new {@class = "control-label col-md-2"})*@
            <div class="col-md-10">
                <input id="image1" type="file" name="image1" />
            </div>
        </div>

        <div class="form-group">
            @Html.DropDownListFor(model => model.AuthorId, new SelectList(Model.Authors, "Id", "Text"))
        </div>

        <div class="form-group">
            <span>Ціна</span>
            @Html.EditorFor(model => model.Price)
            @Html.ValidationMessageFor(model => model.Price)
        </div>

        <div class="form-group">
            <span>Кількість</span>
            @Html.EditorFor(model => model.Count)
            @Html.ValidationMessageFor(model => model.Count)
        </div>

        <div class="form-group">
            <input type="submit" value="Submit" class="btn button" />
            <input type="reset" value="Reset" class="btn button" />
        </div>
    }
</div>

@section scripts{
    @Scripts.Render("~/bundles/jqueryval");
    
    <script>
        function readFile() {
  
            if (this.files && this.files[0]) {
    
                var FR= new FileReader();
    
                FR.addEventListener("load", function(e) {
                    document.getElementById("img").src       = e.target.result;
                    document.getElementById("b64").innerHTML = e.target.result;
                }); 
    
                FR.readAsDataURL( this.files[0] );
            }
        }
    </script>
}

